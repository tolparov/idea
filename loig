import { createSlice } from '@reduxjs/toolkit';
import { userNotificationsInitialState as initialState } from './initialState';

const userNotificationsSlice = createSlice({
  name: 'userNotificationsSlice',
  initialState,

  reducers: {
    connect() {},
    pong() {},
    openSocket(state) {
      state.connected = true;
    },
    closeSocket(state) {
      state.connected = false;
      state.messages = [];
    },

    setMessages(state, action) {
      state.messages = action.payload;
    },

    setError(state, action) {
      state.error = action.payload;
    },

    clean: () => initialState,
  },
});

export const { connect, openSocket, closeSocket, setError, pong, setMessages, clean } =
  userNotificationsSlice.actions;
export const userNotificationsSliceReducer = userNotificationsSlice.reducer;

import { IUserNotificationsSliceSchema } from "./types";

export const userNotificationsInitialState : IUserNotificationsSliceSchema = {
  messages: [],
  connected: false,
  error: '',
};
