Picked up JAVA_TOOL_OPTIONS: -Xbootclasspath/a:/vault/secrets -Dapp.version=poirotPkapTestBuild-1.11115 -Dconfig.version=poirotPkapTestBuild-1.11115 -Dfile.encoding=UTF-8 -Dkotlinx.coroutines.io.parallelism=25 -XX:MaxDirectMemorySize=120M -XX:MaxRAMPercentage=31  -XX:+CrashOnOutOfMemoryError  -XX:+TieredCompilation -XX:TieredStopAtLevel=1
12:16:16,603 |-INFO in ch.qos.logback.classic.LoggerContext[default] - This is logback-classic version 1.5.18
12:16:16,606 |-INFO in ch.qos.logback.classic.util.ContextInitializer@1f2586d6 - Here is a list of configurators discovered as a service, by rank: 
12:16:16,606 |-INFO in ch.qos.logback.classic.util.ContextInitializer@1f2586d6 -   org.springframework.boot.logging.logback.RootLogLevelConfigurator
12:16:16,606 |-INFO in ch.qos.logback.classic.util.ContextInitializer@1f2586d6 - They will be invoked in order until ExecutionStatus.DO_NOT_INVOKE_NEXT_IF_ANY is returned.
12:16:16,606 |-INFO in ch.qos.logback.classic.util.ContextInitializer@1f2586d6 - Constructed configurator of type class org.springframework.boot.logging.logback.RootLogLevelConfigurator
12:16:16,702 |-INFO in ch.qos.logback.classic.util.ContextInitializer@1f2586d6 - org.springframework.boot.logging.logback.RootLogLevelConfigurator.configure() call lasted 0 milliseconds. ExecutionStatus=INVOKE_NEXT_IF_ANY
12:16:16,703 |-INFO in ch.qos.logback.classic.util.ContextInitializer@1f2586d6 - Trying to configure with ch.qos.logback.classic.joran.SerializedModelConfigurator
12:16:16,704 |-INFO in ch.qos.logback.classic.util.ContextInitializer@1f2586d6 - Constructed configurator of type class ch.qos.logback.classic.joran.SerializedModelConfigurator
12:16:16,795 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.scmo]
12:16:16,796 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.scmo]
12:16:16,796 |-INFO in ch.qos.logback.classic.util.ContextInitializer@1f2586d6 - ch.qos.logback.classic.joran.SerializedModelConfigurator.configure() call lasted 92 milliseconds. ExecutionStatus=INVOKE_NEXT_IF_ANY
12:16:16,796 |-INFO in ch.qos.logback.classic.util.ContextInitializer@1f2586d6 - Trying to configure with ch.qos.logback.classic.util.DefaultJoranConfigurator
12:16:16,796 |-INFO in ch.qos.logback.classic.util.ContextInitializer@1f2586d6 - Constructed configurator of type class ch.qos.logback.classic.util.DefaultJoranConfigurator
12:16:16,797 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.xml]
12:16:16,803 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Found resource [logback.xml] at [file:/app/resources/logback.xml]
12:16:17,295 |-WARN in ch.qos.logback.core.joran.action.ConversionRuleAction - [converterClass] attribute is deprecated and replaced by [class]. See element [conversionRule] near line 5
12:16:17,295 |-WARN in ch.qos.logback.core.joran.action.ConversionRuleAction - [converterClass] attribute is deprecated and replaced by [class]. See element [conversionRule] near line 6
12:16:17,295 |-WARN in ch.qos.logback.core.joran.action.ConversionRuleAction - [converterClass] attribute is deprecated and replaced by [class]. See element [conversionRule] near line 7
12:16:17,617 |-INFO in ch.qos.logback.core.model.processor.TimestampModelHandler - Using current interpretation time, i.e. now, as time reference.
12:16:17,708 |-INFO in ch.qos.logback.core.model.processor.TimestampModelHandler - Adding property to the context with key="byDayHH" and value="20260216T121617" to the LOCAL scope
12:16:17,708 |-INFO in ch.qos.logback.core.model.processor.TimestampModelHandler - Using current interpretation time, i.e. now, as time reference.
12:16:17,708 |-INFO in ch.qos.logback.core.model.processor.TimestampModelHandler - Adding property to the context with key="byDay" and value="20260216" to the LOCAL scope
12:16:17,708 |-INFO in ch.qos.logback.core.model.processor.ConversionRuleModelHandler - registering conversion word clr with class [org.springframework.boot.logging.logback.ColorConverter]
12:16:17,709 |-INFO in ch.qos.logback.core.model.processor.ConversionRuleModelHandler - registering conversion word wex with class [org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter]
12:16:17,709 |-INFO in ch.qos.logback.core.model.processor.ConversionRuleModelHandler - registering conversion word wEx with class [org.springframework.boot.logging.logback.ExtendedWhitespaceThrowableProxyConverter]
12:16:17,796 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - Processing appender named [STDOUT]
12:16:17,796 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - About to instantiate appender of type [ch.qos.logback.core.ConsoleAppender]
12:16:17,805 |-INFO in ch.qos.logback.core.model.processor.ImplicitModelHandler - Assuming default type [ch.qos.logback.classic.encoder.PatternLayoutEncoder] for [encoder] property
12:16:18,119 |-INFO in ch.qos.logback.core.ConsoleAppender[STDOUT] - BEWARE: Writing to the console can be very slow. Avoid logging to the 
12:16:18,119 |-INFO in ch.qos.logback.core.ConsoleAppender[STDOUT] - console in production environments, especially in high volume systems.
12:16:18,119 |-INFO in ch.qos.logback.core.ConsoleAppender[STDOUT] - See also https://logback.qos.ch/codes.html#slowConsole
12:16:18,119 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - Processing appender named [FILE]
12:16:18,119 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - About to instantiate appender of type [ch.qos.logback.core.rolling.RollingFileAppender]
12:16:18,193 |-INFO in ch.qos.logback.classic.pattern.DateConverter@10683d9d - Setting zoneId to "UTC"
12:16:18,199 |-INFO in c.q.l.core.rolling.SizeAndTimeBasedRollingPolicy@1069716895 - setting totalSizeCap to 1 GB
12:16:18,202 |-INFO in c.q.l.core.rolling.SizeAndTimeBasedRollingPolicy@1069716895 - Archive files will be limited to [100 MB] each.
12:16:18,202 |-INFO in c.q.l.core.rolling.SizeAndTimeBasedRollingPolicy@1069716895 - No compression will be used
12:16:18,206 |-INFO in c.q.l.core.rolling.SizeAndTimeBasedRollingPolicy@1069716895 - Will use the pattern logs/notifications.%d{yyyy-MM-dd}.%i.log for the active file
12:16:18,397 |-INFO in ch.qos.logback.core.rolling.SizeAndTimeBasedFileNamingAndTriggeringPolicy@5aa9e4eb - The date pattern is 'yyyy-MM-dd' from file name pattern 'logs/notifications.%d{yyyy-MM-dd}.%i.log'.
12:16:18,397 |-INFO in ch.qos.logback.core.rolling.SizeAndTimeBasedFileNamingAndTriggeringPolicy@5aa9e4eb - Roll-over at midnight.
12:16:18,404 |-INFO in ch.qos.logback.core.rolling.SizeAndTimeBasedFileNamingAndTriggeringPolicy@5aa9e4eb - Setting initial period to 2026-02-16T09:16:18.404Z
12:16:18,496 |-INFO in ch.qos.logback.core.rolling.RollingFileAppender[FILE] - Active log file name: logs/notifications.log
12:16:18,497 |-INFO in ch.qos.logback.core.rolling.RollingFileAppender[FILE] - File property is set to [logs/notifications.log]
12:16:18,498 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - Processing appender named [FILE_ERRORS]
12:16:18,498 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - About to instantiate appender of type [ch.qos.logback.core.rolling.RollingFileAppender]
12:16:18,499 |-INFO in ch.qos.logback.classic.pattern.DateConverter@6989da5e - Setting zoneId to "UTC"
12:16:18,500 |-INFO in c.q.l.core.rolling.SizeAndTimeBasedRollingPolicy@945591847 - setting totalSizeCap to 100 MB
12:16:18,500 |-INFO in c.q.l.core.rolling.SizeAndTimeBasedRollingPolicy@945591847 - Archive files will be limited to [50 MB] each.
12:16:18,500 |-INFO in c.q.l.core.rolling.SizeAndTimeBasedRollingPolicy@945591847 - No compression will be used
12:16:18,500 |-INFO in c.q.l.core.rolling.SizeAndTimeBasedRollingPolicy@945591847 - Will use the pattern logs/notifications.%d{yyyy-MM-dd}.%i-errors.log for the active file
12:16:18,501 |-INFO in ch.qos.logback.core.rolling.SizeAndTimeBasedFileNamingAndTriggeringPolicy@139982de - The date pattern is 'yyyy-MM-dd' from file name pattern 'logs/notifications.%d{yyyy-MM-dd}.%i-errors.log'.
12:16:18,501 |-INFO in ch.qos.logback.core.rolling.SizeAndTimeBasedFileNamingAndTriggeringPolicy@139982de - Roll-over at midnight.
12:16:18,501 |-INFO in ch.qos.logback.core.rolling.SizeAndTimeBasedFileNamingAndTriggeringPolicy@139982de - Setting initial period to 2026-02-16T09:16:18.501Z
12:16:18,502 |-INFO in ch.qos.logback.core.rolling.RollingFileAppender[FILE_ERRORS] - Active log file name: logs/notifications-errors.log
12:16:18,502 |-INFO in ch.qos.logback.core.rolling.RollingFileAppender[FILE_ERRORS] - File property is set to [logs/notifications-errors.log]
12:16:18,502 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - Processing appender named [ASYNC_FILE]
12:16:18,502 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - About to instantiate appender of type [ch.qos.logback.classic.AsyncAppender]
12:16:18,506 |-INFO in ch.qos.logback.core.model.processor.AppenderRefModelHandler - Attaching appender named [FILE] to ch.qos.logback.classic.AsyncAppender[ASYNC_FILE]
12:16:18,506 |-INFO in ch.qos.logback.classic.AsyncAppender[ASYNC_FILE] - Attaching appender named [FILE] to AsyncAppender.
12:16:18,506 |-INFO in ch.qos.logback.classic.AsyncAppender[ASYNC_FILE] - Setting discardingThreshold to 1638
12:16:18,507 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - Processing appender named [ASYNC_FILE_ERRORS]
12:16:18,507 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - About to instantiate appender of type [ch.qos.logback.classic.AsyncAppender]
12:16:18,592 |-INFO in ch.qos.logback.core.model.processor.AppenderRefModelHandler - Attaching appender named [FILE_ERRORS] to ch.qos.logback.classic.AsyncAppender[ASYNC_FILE_ERRORS]
12:16:18,592 |-INFO in ch.qos.logback.classic.AsyncAppender[ASYNC_FILE_ERRORS] - Attaching appender named [FILE_ERRORS] to AsyncAppender.
12:16:18,592 |-INFO in ch.qos.logback.classic.AsyncAppender[ASYNC_FILE_ERRORS] - Setting discardingThreshold to 1638
12:16:18,593 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - Processing appender named [ASYNC_STDOUT]
12:16:18,593 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - About to instantiate appender of type [ch.qos.logback.classic.AsyncAppender]
12:16:18,593 |-INFO in ch.qos.logback.core.model.processor.AppenderRefModelHandler - Attaching appender named [STDOUT] to ch.qos.logback.classic.AsyncAppender[ASYNC_STDOUT]
12:16:18,593 |-INFO in ch.qos.logback.classic.AsyncAppender[ASYNC_STDOUT] - Attaching appender named [STDOUT] to AsyncAppender.
12:16:18,593 |-INFO in ch.qos.logback.classic.AsyncAppender[ASYNC_STDOUT] - Setting discardingThreshold to 1638
12:16:18,594 |-INFO in ch.qos.logback.classic.model.processor.RootLoggerModelHandler - Setting level of ROOT logger to INFO
12:16:18,594 |-INFO in ch.qos.logback.core.model.processor.AppenderRefModelHandler - Attaching appender named [ASYNC_STDOUT] to Logger[ROOT]
12:16:18,594 |-INFO in ch.qos.logback.core.model.processor.AppenderRefModelHandler - Attaching appender named [ASYNC_FILE_ERRORS] to Logger[ROOT]
12:16:18,594 |-INFO in ch.qos.logback.core.model.processor.AppenderRefModelHandler - Attaching appender named [ASYNC_FILE] to Logger[ROOT]
12:16:18,595 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [org.flywaydb] to DEBUG
12:16:18,595 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [com.zaxxer.hikari.HikariConfig] to ERROR
12:16:18,595 |-INFO in ch.qos.logback.core.model.processor.DefaultProcessor@682b2fa - End of configuration.
12:16:18,596 |-INFO in ch.qos.logback.classic.joran.JoranConfigurator@217ed35e - Registering current configuration as safe fallback point
12:16:18,596 |-INFO in ch.qos.logback.classic.util.ContextInitializer@1f2586d6 - ch.qos.logback.classic.util.DefaultJoranConfigurator.configure() call lasted 1800 milliseconds. ExecutionStatus=DO_NOT_INVOKE_NEXT_IF_ANY

12:16:21,396 |-WARN in ch.qos.logback.core.joran.action.ConversionRuleAction - [converterClass] attribute is deprecated and replaced by [class]. See element [conversionRule] near line 5
12:16:21,397 |-WARN in ch.qos.logback.core.joran.action.ConversionRuleAction - [converterClass] attribute is deprecated and replaced by [class]. See element [conversionRule] near line 6
12:16:21,397 |-WARN in ch.qos.logback.core.joran.action.ConversionRuleAction - [converterClass] attribute is deprecated and replaced by [class]. See element [conversionRule] near line 7

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.6)

16.02 12:16:22.201  INFO [               main] r.s.p.n.NotificationsStarterKt          : Starting NotificationsStarterKt using Java 17.0.7 with PID 1 (/app/classes started by 1003350000 in /home/jboss)
16.02 12:16:22.203  INFO [               main] r.s.p.n.NotificationsStarterKt          : No active profile set, falling back to 1 default profile: "default"
16.02 12:16:38.193  INFO [               main] r.s.p.e.datasources.PoirotDataSource    : Registering HikariDataSource for poirot_users database
16.02 12:16:38.311  INFO [               main] com.zaxxer.hikari.HikariDataSource      : HikariPool-1 - Starting...
16.02 12:16:40.212  INFO [               main] com.zaxxer.hikari.pool.HikariPool       : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@d863bb
16.02 12:16:40.214  INFO [               main] com.zaxxer.hikari.HikariDataSource      : HikariPool-1 - Start completed.
16.02 12:16:45.199  INFO [               main] r.s.p.e.d.refreshable.RefreshableConfig : Static micrometer initiated
16.02 12:16:45.496  INFO [               main] r.s.p.e.ds.refreshable.Refreshables     : Using heap collections for refreshables.
16.02 12:16:46.605  INFO [               main] org.reflections.Reflections             : Reflections took 1092 ms to scan 14 urls, producing 104 keys and 1297 values
16.02 12:16:47.206  INFO [               main] r.s.p.e.d.r.d.k.KafkaDelayerReceptionist: Registered kafka delayer for triggerNames=[admin_notifications, NOTIFICATION_FEED_timeout], refreshable=NOTIFICATION_FEED
16.02 12:16:47.395  INFO [         refresh-01] r.s.p.e.d.r.core.AbstractRefreshable    : Going to refresh 'FeedableHolder.NOTIFICATION_FEED'. Limit: 1/10.
16.02 12:16:52.892  INFO [         refresh-01] s.p.e.d.q.b.s.j.r.g.GraphLoaderGenerator: Generated GraphLoader in 5277 ms for '[adminNotification.id, adminNotification.archive, adminNotification.publish, adminNotification.created, adminNotification.lastModified, adminNotification.dateFrom, adminNotification.dateTo, adminNotification.type, adminNotification.message, adminNotification.author, adminNotification.mapping.id, adminNotification.mapping.roleId, adminNotification.mapping.adminNotificationId]'
16.02 12:16:52.896  INFO [         refresh-01] r.s.p.e.d.q.b.s.jdbc.JdbcSelectFactory  : GENERATED DSL SQL(1) in 5483 ms:
***
findAll(adminNotification, orderBy = listOf(adminNotification.lastModified), order = DESC, batch = false, deduplicate = true) fetchFields { listOf(adminNotification.id, adminNotification.archive, adminNotification.publish, adminNotification.created, adminNotification.lastModified, adminNotification.dateFrom, adminNotification.dateTo, adminNotification.type, adminNotification.message, adminNotification.author, adminNotification.mapping.id, adminNotification.mapping.roleId, adminNotification.mapping.adminNotificationId) } where {
  adminNotification.dateFrom <= ?
  adminNotification.dateTo >= ?
  adminNotification.archive = false
  adminNotification.publish = true
}
SELECT adminNotification_0.id, adminNotification_0.archive, adminNotification_0.publish, adminNotification_0.created, adminNotification_0.last_modified, adminNotification_0.date_from, adminNotification_0.date_to, adminNotification_0.type, adminNotification_0.message, adminNotification_0.author
from admin_notifications adminNotification_0
where (adminNotification_0.date_from <= ? and 
adminNotification_0.date_to >= ? and 
adminNotification_0.archive = false and 
adminNotification_0.publish = true)
order by adminNotification_0.last_modified desc
***
16.02 12:16:53.114  INFO [         refresh-01] r.s.p.e.d.r.core.AbstractRefreshable    : Refreshed 'FeedableHolder.NOTIFICATION_FEED'. Fetched 0 items in 6 sec. Size: 0 KB. Versions: 0 -> 1.
16.02 12:16:53.195  INFO [               main] p.e.d.r.o.RegistrationRefreshableFactory: Initialized 1/1 refreshables in 6 sec. Remaining(0): []. CacheSize: 0 mb.
16.02 12:16:53.393  INFO [               main] ru.sber.poirot.LogDownloader            : Exposed logs from /home/jboss/logs
16.02 12:16:55.296  INFO [               main] o.h.validator.internal.util.Version     : HV000001: Hibernate Validator 8.0.3.Final
16.02 12:16:57.302  INFO [               main] o.s.b.a.e.web.EndpointLinksResolver     : Exposing 6 endpoints beneath base path '/actuator'
16.02 12:17:00.899  INFO [               main] o.s.b.web.embedded.netty.NettyWebServer : Netty started on port 7024 (http)
16.02 12:17:01.106  INFO [               main] o.a.k.clients.consumer.ConsumerConfig   : ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.include.jmx.reporter = true
	auto.offset.reset = earliest
	bootstrap.servers = [tsldq-puaro0001.delta.sbrf.ru:9093, tsldq-puaro0002.delta.sbrf.ru:9093]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-notifications-notifications-ift-am-pkap-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	enable.metrics.push = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = notifications-notifications-ift-am-pkap
	group.instance.id = null
	group.protocol = classic
	group.remote.assignor = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 1
	metadata.max.age.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.header.urlencode = false
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.apache.kafka.common.serialization.StringDeserializer

16.02 12:17:01.312  INFO [               main] o.a.k.c.t.i.KafkaMetricsCollector       : initializing Kafka metrics collector
16.02 12:17:02.195  INFO [               main] o.a.kafka.common.utils.AppInfoParser    : Kafka version: 3.9.1
16.02 12:17:02.196  INFO [               main] o.a.kafka.common.utils.AppInfoParser    : Kafka commitId: f745dfdcee2b9851
16.02 12:17:02.196  INFO [               main] o.a.kafka.common.utils.AppInfoParser    : Kafka startTimeMs: 1771233422194
16.02 12:17:02.300  INFO [               main] o.a.k.c.c.i.ClassicKafkaConsumer        : [Consumer clientId=consumer-notifications-notifications-ift-am-pkap-1, groupId=notifications-notifications-ift-am-pkap] Subscribed to topic(s): NOTIFICATION_UPDATES
16.02 12:17:02.698  INFO [               main] r.s.p.n.NotificationsStarterKt          : Started NotificationsStarterKt in 43.687 seconds (process running for 47.319)
16.02 12:17:06.605  INFO [ntContainer#0-0-C-1] org.apache.kafka.clients.Metadata       : [Consumer clientId=consumer-notifications-notifications-ift-am-pkap-1, groupId=notifications-notifications-ift-am-pkap] Cluster ID: 3mwehz1QR16bE9BAaNZ2kA
16.02 12:17:06.797  INFO [ntContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator : [Consumer clientId=consumer-notifications-notifications-ift-am-pkap-1, groupId=notifications-notifications-ift-am-pkap] Discovered group coordinator tsldq-puaro0002.cloud.delta.sbrf.ru:9093 (id: 2147483646 rack: null)
16.02 12:17:07.017  INFO [ntContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator : [Consumer clientId=consumer-notifications-notifications-ift-am-pkap-1, groupId=notifications-notifications-ift-am-pkap] (Re-)joining group
16.02 12:17:07.101  INFO [ntContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator : [Consumer clientId=consumer-notifications-notifications-ift-am-pkap-1, groupId=notifications-notifications-ift-am-pkap] Request joining group due to: need to re-join with the given member-id: consumer-notifications-notifications-ift-am-pkap-1-58a151e5-62d7-4793-b322-b0fba34eddc9
16.02 12:17:07.101  INFO [ntContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator : [Consumer clientId=consumer-notifications-notifications-ift-am-pkap-1, groupId=notifications-notifications-ift-am-pkap] (Re-)joining group
16.02 12:17:10.106  INFO [ntContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator : [Consumer clientId=consumer-notifications-notifications-ift-am-pkap-1, groupId=notifications-notifications-ift-am-pkap] Successfully joined group with generation Generation{generationId=18, memberId='consumer-notifications-notifications-ift-am-pkap-1-58a151e5-62d7-4793-b322-b0fba34eddc9', protocol='range'}
16.02 12:17:10.123  INFO [ntContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator : [Consumer clientId=consumer-notifications-notifications-ift-am-pkap-1, groupId=notifications-notifications-ift-am-pkap] Finished assignment for group at generation 18: {consumer-notifications-notifications-ift-am-pkap-1-58a151e5-62d7-4793-b322-b0fba34eddc9=Assignment(partitions=[NOTIFICATION_UPDATES-0, NOTIFICATION_UPDATES-1, NOTIFICATION_UPDATES-2])}
16.02 12:17:10.135  INFO [ntContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator : [Consumer clientId=consumer-notifications-notifications-ift-am-pkap-1, groupId=notifications-notifications-ift-am-pkap] Successfully synced group in generation Generation{generationId=18, memberId='consumer-notifications-notifications-ift-am-pkap-1-58a151e5-62d7-4793-b322-b0fba34eddc9', protocol='range'}
16.02 12:17:10.136  INFO [ntContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerCoordinator : [Consumer clientId=consumer-notifications-notifications-ift-am-pkap-1, groupId=notifications-notifications-ift-am-pkap] Notifying assignor about the new Assignment(partitions=[NOTIFICATION_UPDATES-0, NOTIFICATION_UPDATES-1, NOTIFICATION_UPDATES-2])
16.02 12:17:10.139  INFO [ntContainer#0-0-C-1] k.c.c.i.ConsumerRebalanceListenerInvoker: [Consumer clientId=consumer-notifications-notifications-ift-am-pkap-1, groupId=notifications-notifications-ift-am-pkap] Adding newly assigned partitions: NOTIFICATION_UPDATES-0, NOTIFICATION_UPDATES-1, NOTIFICATION_UPDATES-2
16.02 12:17:10.196  INFO [ntContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerUtils       : Setting offset for partition NOTIFICATION_UPDATES-2 to the committed offset FetchPosition{offset=36, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[tsldq-puaro0002.cloud.delta.sbrf.ru:9093 (id: 1 rack: null)], epoch=0}}
16.02 12:17:10.196  INFO [ntContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerUtils       : Setting offset for partition NOTIFICATION_UPDATES-0 to the committed offset FetchPosition{offset=41, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[tsldq-puaro0002.cloud.delta.sbrf.ru:9093 (id: 1 rack: null)], epoch=0}}
16.02 12:17:10.197  INFO [ntContainer#0-0-C-1] o.a.k.c.c.internals.ConsumerUtils       : Setting offset for partition NOTIFICATION_UPDATES-1 to the committed offset FetchPosition{offset=24, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[tsldq-puaro0001.cloud.delta.sbrf.ru:9093 (id: 2 rack: null)], epoch=0}}
16.02 12:17:10.199  INFO [ntContainer#0-0-C-1] o.s.k.l.KafkaMessageListenerContainer   : notifications-notifications-ift-am-pkap: partitions assigned: [NOTIFICATION_UPDATES-0, NOTIFICATION_UPDATES-1, NOTIFICATION_UPDATES-2]
16.02 12:18:50.794  INFO [Dispatcher-worker-1] r.s.p.n.websocket.FeedWebSocketHandler  : New WS connection: 54a65be3
16.02 12:18:51.914  INFO [eactor-http-epoll-4] r.s.p.n.websocket.FeedWebSocketHandler  : Processing SUBSCRIBE for session 54a65be3
16.02 12:18:52.103  INFO [Dispatcher-worker-1] r.s.p.n.websocket.FeedWebSocketHandler  : Subscribed session 54a65be3 with roles: [2, 1, 10], feed size: 0
16.02 12:18:52.198  INFO [Dispatcher-worker-1] r.s.p.n.websocket.BroadcastRegistry     : ‚úÖ Registered session: 54a65be3, roleIds: [2, 1, 10], total clients: 1
16.02 12:19:00.431  INFO [eactor-http-epoll-3] r.s.p.n.websocket.FeedWebSocketHandler  : New WS connection: 2599f4ca
16.02 12:19:00.471  INFO [eactor-http-epoll-3] r.s.p.n.websocket.FeedWebSocketHandler  : Processing SUBSCRIBE for session 2599f4ca
16.02 12:19:00.474  INFO [Dispatcher-worker-1] r.s.p.n.websocket.FeedWebSocketHandler  : Subscribed session 2599f4ca with roles: [109], feed size: 0
16.02 12:19:00.474  INFO [Dispatcher-worker-1] r.s.p.n.websocket.BroadcastRegistry     : ‚úÖ Registered session: 2599f4ca, roleIds: [109], total clients: 2
16.02 12:19:07.610  INFO [Dispatcher-worker-1] r.s.p.e.d.q.b.s.jdbc.JdbcSelectFactory  : GENERATED DSL SQL(2) in 1 ms:
***
findAll(adminNotification, batch = false, deduplicate = true) fetchFields { listOf(adminNotification.id, adminNotification.archive, adminNotification.publish, adminNotification.created, adminNotification.lastModified, adminNotification.dateFrom, adminNotification.dateTo, adminNotification.type, adminNotification.message, adminNotification.author, adminNotification.mapping.id, adminNotification.mapping.roleId, adminNotification.mapping.adminNotificationId) } where {
  adminNotification.archive = false
}
SELECT adminNotification_0.id, adminNotification_0.archive, adminNotification_0.publish, adminNotification_0.created, adminNotification_0.last_modified, adminNotification_0.date_from, adminNotification_0.date_to, adminNotification_0.type, adminNotification_0.message, adminNotification_0.author
from admin_notifications adminNotification_0
where adminNotification_0.archive = false
***
16.02 12:19:20.703  INFO [eactor-http-epoll-3] r.s.p.n.websocket.FeedWebSocketHandler  : New WS connection: 16c8bb19
16.02 12:19:20.794  INFO [eactor-http-epoll-3] r.s.p.n.websocket.FeedWebSocketHandler  : Processing SUBSCRIBE for session 16c8bb19
16.02 12:19:20.795  INFO [Dispatcher-worker-1] r.s.p.n.websocket.FeedWebSocketHandler  : Subscribed session 16c8bb19 with roles: [2, 1, 10], feed size: 0
16.02 12:19:20.795  INFO [Dispatcher-worker-1] r.s.p.n.websocket.BroadcastRegistry     : ‚úÖ Registered session: 16c8bb19, roleIds: [2, 1, 10], total clients: 3
16.02 12:19:20.827  WARN [         parallel-1] r.s.p.n.websocket.FeedWebSocketHandler  : Failed to send ping to 54a65be3: Connection has been closed BEFORE send operation
16.02 12:19:20.827  INFO [         parallel-1] r.s.p.n.websocket.BroadcastRegistry     : ‚ùå Unregistered session: 54a65be3, remaining clients: 2
16.02 12:19:20.829 ERROR [         parallel-1] reactor.core.publisher.Operators        : Operator called default onErrorDropped

reactor.core.Exceptions$ErrorCallbackNotImplemented: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
Caused by: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
	at reactor.netty.channel.AbortedException.beforeSend(AbortedException.java:59)
	at reactor.netty.http.server.HttpServerOperations.then(HttpServerOperations.java:691)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:750)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:739)
	at reactor.netty.NettyOutbound.then(NettyOutbound.java:358)
	at reactor.netty.channel.ChannelOperations.sendObject(ChannelOperations.java:314)
	at reactor.netty.NettyOutbound.sendObject(NettyOutbound.java:246)
	at org.springframework.web.reactive.socket.adapter.ReactorNettyWebSocketSession.send(ReactorNettyWebSocketSession.java:110)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:126)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:113)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler.heartbeat$lambda$2(FeedWebSocketHandler.kt:113)
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:388)
	at reactor.core.publisher.FluxInterval$IntervalRunnable.run(FluxInterval.java:124)
	at reactor.core.scheduler.PeriodicWorkerTask.call(PeriodicWorkerTask.java:59)
	at reactor.core.scheduler.PeriodicWorkerTask.run(PeriodicWorkerTask.java:73)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)

16.02 12:19:22.059  INFO [eactor-http-epoll-3] r.s.p.n.websocket.FeedWebSocketHandler  : New WS connection: 4e6119c1
16.02 12:19:22.099  INFO [eactor-http-epoll-3] r.s.p.n.websocket.FeedWebSocketHandler  : Processing SUBSCRIBE for session 4e6119c1
16.02 12:19:22.101  INFO [Dispatcher-worker-1] r.s.p.n.websocket.FeedWebSocketHandler  : Subscribed session 4e6119c1 with roles: [109], feed size: 0
16.02 12:19:22.102  INFO [Dispatcher-worker-1] r.s.p.n.websocket.BroadcastRegistry     : ‚úÖ Registered session: 4e6119c1, roleIds: [109], total clients: 3
16.02 12:19:30.432  WARN [         parallel-1] r.s.p.n.websocket.FeedWebSocketHandler  : Failed to send ping to 2599f4ca: Connection has been closed BEFORE send operation
16.02 12:19:30.432  INFO [         parallel-1] r.s.p.n.websocket.BroadcastRegistry     : ‚ùå Unregistered session: 2599f4ca, remaining clients: 2
16.02 12:19:30.432 ERROR [         parallel-1] reactor.core.publisher.Operators        : Operator called default onErrorDropped

reactor.core.Exceptions$ErrorCallbackNotImplemented: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
Caused by: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
	at reactor.netty.channel.AbortedException.beforeSend(AbortedException.java:59)
	at reactor.netty.http.server.HttpServerOperations.then(HttpServerOperations.java:691)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:750)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:739)
	at reactor.netty.NettyOutbound.then(NettyOutbound.java:358)
	at reactor.netty.channel.ChannelOperations.sendObject(ChannelOperations.java:314)
	at reactor.netty.NettyOutbound.sendObject(NettyOutbound.java:246)
	at org.springframework.web.reactive.socket.adapter.ReactorNettyWebSocketSession.send(ReactorNettyWebSocketSession.java:110)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:126)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:113)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler.heartbeat$lambda$2(FeedWebSocketHandler.kt:113)
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:388)
	at reactor.core.publisher.FluxInterval$IntervalRunnable.run(FluxInterval.java:124)
	at reactor.core.scheduler.PeriodicWorkerTask.call(PeriodicWorkerTask.java:59)
	at reactor.core.scheduler.PeriodicWorkerTask.run(PeriodicWorkerTask.java:73)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)

16.02 12:19:34.797  INFO [Dispatcher-worker-1] r.s.p.e.d.q.b.s.jdbc.JdbcSelectFactory  : GENERATED DSL SQL(3) in 0 ms:
***
existsAny(adminNotification, limit = 1, batch = false) where {
  adminNotification.id = ?
  adminNotification.archive = false
}
SELECT 0
from admin_notifications adminNotification_0
where (adminNotification_0.id = ? and 
adminNotification_0.archive = false)
limit 1
***
16.02 12:19:36.503  INFO [sactions-suspend-01] r.s.s.p.s.f.VisitorPersisterFactoryImpl : Generated visitor/persister for AdminNotification in 1602 ms.
16.02 12:19:37.694  INFO [sactions-suspend-01] r.s.s.p.s.f.VisitorPersisterFactoryImpl : Generated visitor/persister for AdminNotificationRoleMapping in 883 ms.
16.02 12:19:37.795  INFO [Dispatcher-worker-1] r.s.p.n.kafka.NotificationProducer      : üì§ Sending notification event to Kafka: type=UPDATED, id=8201
16.02 12:19:37.909  INFO [Dispatcher-worker-1] o.a.k.clients.producer.ProducerConfig   : Idempotence will be disabled because acks is set to 1, not set to 'all'.
16.02 12:19:37.909  INFO [Dispatcher-worker-1] o.a.k.clients.producer.ProducerConfig   : ProducerConfig values: 
	acks = 1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [tsldq-puaro0001.delta.sbrf.ru:9093, tsldq-puaro0002.delta.sbrf.ru:9093]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = notifications-producer-1
	compression.gzip.level = -1
	compression.lz4.level = 9
	compression.type = none
	compression.zstd.level = 3
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	enable.metrics.push = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.header.urlencode = false
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

16.02 12:19:37.910  INFO [Dispatcher-worker-1] o.a.k.c.t.i.KafkaMetricsCollector       : initializing Kafka metrics collector
16.02 12:19:38.102  INFO [Dispatcher-worker-1] o.a.kafka.common.utils.AppInfoParser    : Kafka version: 3.9.1
16.02 12:19:38.102  INFO [Dispatcher-worker-1] o.a.kafka.common.utils.AppInfoParser    : Kafka commitId: f745dfdcee2b9851
16.02 12:19:38.102  INFO [Dispatcher-worker-1] o.a.kafka.common.utils.AppInfoParser    : Kafka startTimeMs: 1771233578102
16.02 12:19:38.197  INFO [ications-producer-1] org.apache.kafka.clients.Metadata       : [Producer clientId=notifications-producer-1] Cluster ID: 3mwehz1QR16bE9BAaNZ2kA
16.02 12:19:38.694  INFO [Dispatcher-worker-2] r.s.p.n.kafka.NotificationConsumer      : üì® Received notification event from Kafka: type=UPDATED, id=8201
16.02 12:19:38.702  INFO [Dispatcher-worker-2] r.s.p.e.d.q.b.s.jdbc.JdbcSelectFactory  : GENERATED DSL SQL(4) in 0 ms:
***
findAll(adminNotification, limit = 1, batch = false, deduplicate = true) fetchFields { listOf(adminNotification.id, adminNotification.archive, adminNotification.publish, adminNotification.created, adminNotification.lastModified, adminNotification.dateFrom, adminNotification.dateTo, adminNotification.type, adminNotification.message, adminNotification.author, adminNotification.mapping.id, adminNotification.mapping.roleId, adminNotification.mapping.adminNotificationId) } where {
  adminNotification.id = ?
}
SELECT adminNotification_0.id, adminNotification_0.archive, adminNotification_0.publish, adminNotification_0.created, adminNotification_0.last_modified, adminNotification_0.date_from, adminNotification_0.date_to, adminNotification_0.type, adminNotification_0.message, adminNotification_0.author
from admin_notifications adminNotification_0
where adminNotification_0.id = ?
limit 1
***
16.02 12:19:38.896  INFO [Dispatcher-worker-1] r.s.p.n.kafka.NotificationConsumer      : üì¢ Broadcasting notification 8201 clients on this pod
16.02 12:19:38.896  INFO [Dispatcher-worker-1] r.s.p.n.websocket.BroadcastRegistry     : üì¢ Broadcasting 1 notifications to 2 clients
16.02 12:19:50.816  WARN [         parallel-1] r.s.p.n.websocket.FeedWebSocketHandler  : Failed to send ping to 54a65be3: Connection has been closed BEFORE send operation
16.02 12:19:50.817  INFO [         parallel-1] r.s.p.n.websocket.BroadcastRegistry     : ‚ùå Unregistered session: 54a65be3, remaining clients: 2
16.02 12:19:50.817 ERROR [         parallel-1] reactor.core.publisher.Operators        : Operator called default onErrorDropped

reactor.core.Exceptions$ErrorCallbackNotImplemented: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
Caused by: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
	at reactor.netty.channel.AbortedException.beforeSend(AbortedException.java:59)
	at reactor.netty.http.server.HttpServerOperations.then(HttpServerOperations.java:691)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:750)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:739)
	at reactor.netty.NettyOutbound.then(NettyOutbound.java:358)
	at reactor.netty.channel.ChannelOperations.sendObject(ChannelOperations.java:314)
	at reactor.netty.NettyOutbound.sendObject(NettyOutbound.java:246)
	at org.springframework.web.reactive.socket.adapter.ReactorNettyWebSocketSession.send(ReactorNettyWebSocketSession.java:110)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:126)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:113)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler.heartbeat$lambda$2(FeedWebSocketHandler.kt:113)
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:388)
	at reactor.core.publisher.FluxInterval$IntervalRunnable.run(FluxInterval.java:124)
	at reactor.core.scheduler.PeriodicWorkerTask.call(PeriodicWorkerTask.java:59)
	at reactor.core.scheduler.PeriodicWorkerTask.run(PeriodicWorkerTask.java:73)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)

16.02 12:19:51.702  INFO [Dispatcher-worker-2] r.s.p.n.kafka.NotificationProducer      : üì§ Sending notification event to Kafka: type=CREATED, id=8351
16.02 12:19:51.712  INFO [Dispatcher-worker-2] r.s.p.n.kafka.NotificationConsumer      : üì® Received notification event from Kafka: type=CREATED, id=8351
16.02 12:19:51.802  INFO [Dispatcher-worker-1] r.s.p.n.kafka.NotificationConsumer      : üì¢ Broadcasting notification 8351 clients on this pod
16.02 12:19:51.802  INFO [Dispatcher-worker-1] r.s.p.n.websocket.BroadcastRegistry     : üì¢ Broadcasting 1 notifications to 2 clients
16.02 12:20:00.432  WARN [         parallel-1] r.s.p.n.websocket.FeedWebSocketHandler  : Failed to send ping to 2599f4ca: Connection has been closed BEFORE send operation
16.02 12:20:00.432  INFO [         parallel-1] r.s.p.n.websocket.BroadcastRegistry     : ‚ùå Unregistered session: 2599f4ca, remaining clients: 2
16.02 12:20:00.432 ERROR [         parallel-1] reactor.core.publisher.Operators        : Operator called default onErrorDropped

reactor.core.Exceptions$ErrorCallbackNotImplemented: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
Caused by: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
	at reactor.netty.channel.AbortedException.beforeSend(AbortedException.java:59)
	at reactor.netty.http.server.HttpServerOperations.then(HttpServerOperations.java:691)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:750)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:739)
	at reactor.netty.NettyOutbound.then(NettyOutbound.java:358)
	at reactor.netty.channel.ChannelOperations.sendObject(ChannelOperations.java:314)
	at reactor.netty.NettyOutbound.sendObject(NettyOutbound.java:246)
	at org.springframework.web.reactive.socket.adapter.ReactorNettyWebSocketSession.send(ReactorNettyWebSocketSession.java:110)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:126)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:113)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler.heartbeat$lambda$2(FeedWebSocketHandler.kt:113)
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:388)
	at reactor.core.publisher.FluxInterval$IntervalRunnable.run(FluxInterval.java:124)
	at reactor.core.scheduler.PeriodicWorkerTask.call(PeriodicWorkerTask.java:59)
	at reactor.core.scheduler.PeriodicWorkerTask.run(PeriodicWorkerTask.java:73)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)

16.02 12:20:01.709  INFO [Dispatcher-worker-1] r.s.p.n.kafka.NotificationProducer      : üì§ Sending notification event to Kafka: type=UPDATED, id=8351
16.02 12:20:01.732  INFO [Dispatcher-worker-1] r.s.p.n.kafka.NotificationConsumer      : üì® Received notification event from Kafka: type=UPDATED, id=8351
16.02 12:20:01.737  INFO [Dispatcher-worker-2] r.s.p.n.kafka.NotificationConsumer      : üì¢ Broadcasting notification 8351 clients on this pod
16.02 12:20:01.738  INFO [Dispatcher-worker-2] r.s.p.n.websocket.BroadcastRegistry     : üì¢ Broadcasting 1 notifications to 2 clients
16.02 12:20:05.108  INFO [eactor-http-epoll-4] r.s.p.n.websocket.FeedWebSocketHandler  : New WS connection: 2c1dca98
16.02 12:20:05.143  INFO [eactor-http-epoll-4] r.s.p.n.websocket.FeedWebSocketHandler  : Processing SUBSCRIBE for session 2c1dca98
16.02 12:20:05.146  INFO [Dispatcher-worker-1] r.s.p.n.websocket.FeedWebSocketHandler  : Subscribed session 2c1dca98 with roles: [109], feed size: 0
16.02 12:20:05.146  INFO [Dispatcher-worker-1] r.s.p.n.websocket.BroadcastRegistry     : ‚úÖ Registered session: 2c1dca98, roleIds: [109], total clients: 3
16.02 12:20:12.609  INFO [eactor-http-epoll-1] r.s.p.n.websocket.FeedWebSocketHandler  : New WS connection: 40b1e106
16.02 12:20:12.638  INFO [eactor-http-epoll-1] r.s.p.n.websocket.FeedWebSocketHandler  : Processing SUBSCRIBE for session 40b1e106
16.02 12:20:12.640  INFO [Dispatcher-worker-1] r.s.p.n.websocket.FeedWebSocketHandler  : Subscribed session 40b1e106 with roles: [109], feed size: 0
16.02 12:20:12.641  INFO [Dispatcher-worker-1] r.s.p.n.websocket.BroadcastRegistry     : ‚úÖ Registered session: 40b1e106, roleIds: [109], total clients: 4
16.02 12:20:18.079  INFO [eactor-http-epoll-3] r.s.p.n.websocket.FeedWebSocketHandler  : New WS connection: b5e68f6
16.02 12:20:18.115  INFO [eactor-http-epoll-3] r.s.p.n.websocket.FeedWebSocketHandler  : Processing SUBSCRIBE for session b5e68f6
16.02 12:20:18.117  INFO [Dispatcher-worker-1] r.s.p.n.websocket.FeedWebSocketHandler  : Subscribed session b5e68f6 with roles: [2, 1, 10], feed size: 0
16.02 12:20:18.117  INFO [Dispatcher-worker-1] r.s.p.n.websocket.BroadcastRegistry     : ‚úÖ Registered session: b5e68f6, roleIds: [2, 1, 10], total clients: 5
16.02 12:20:20.704  WARN [         parallel-1] r.s.p.n.websocket.FeedWebSocketHandler  : Failed to send ping to 16c8bb19: Connection has been closed BEFORE send operation
16.02 12:20:20.704  INFO [         parallel-1] r.s.p.n.websocket.BroadcastRegistry     : ‚ùå Unregistered session: 16c8bb19, remaining clients: 4
16.02 12:20:20.704 ERROR [         parallel-1] reactor.core.publisher.Operators        : Operator called default onErrorDropped

reactor.core.Exceptions$ErrorCallbackNotImplemented: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
Caused by: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
	at reactor.netty.channel.AbortedException.beforeSend(AbortedException.java:59)
	at reactor.netty.http.server.HttpServerOperations.then(HttpServerOperations.java:691)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:750)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:739)
	at reactor.netty.NettyOutbound.then(NettyOutbound.java:358)
	at reactor.netty.channel.ChannelOperations.sendObject(ChannelOperations.java:314)
	at reactor.netty.NettyOutbound.sendObject(NettyOutbound.java:246)
	at org.springframework.web.reactive.socket.adapter.ReactorNettyWebSocketSession.send(ReactorNettyWebSocketSession.java:110)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:126)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:113)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler.heartbeat$lambda$2(FeedWebSocketHandler.kt:113)
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:388)
	at reactor.core.publisher.FluxInterval$IntervalRunnable.run(FluxInterval.java:124)
	at reactor.core.scheduler.PeriodicWorkerTask.call(PeriodicWorkerTask.java:59)
	at reactor.core.scheduler.PeriodicWorkerTask.run(PeriodicWorkerTask.java:73)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)

16.02 12:20:20.816  WARN [         parallel-1] r.s.p.n.websocket.FeedWebSocketHandler  : Session 54a65be3 timed out (no activity for 90005ms). Closing.
16.02 12:20:20.816  INFO [         parallel-1] r.s.p.n.websocket.BroadcastRegistry     : ‚ùå Unregistered session: 54a65be3, remaining clients: 4
16.02 12:20:22.060  WARN [         parallel-1] r.s.p.n.websocket.FeedWebSocketHandler  : Failed to send ping to 4e6119c1: Connection has been closed BEFORE send operation
16.02 12:20:22.060  INFO [         parallel-1] r.s.p.n.websocket.BroadcastRegistry     : ‚ùå Unregistered session: 4e6119c1, remaining clients: 3
16.02 12:20:22.061 ERROR [         parallel-1] reactor.core.publisher.Operators        : Operator called default onErrorDropped

reactor.core.Exceptions$ErrorCallbackNotImplemented: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
Caused by: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
	at reactor.netty.channel.AbortedException.beforeSend(AbortedException.java:59)
	at reactor.netty.http.server.HttpServerOperations.then(HttpServerOperations.java:691)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:750)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:739)
	at reactor.netty.NettyOutbound.then(NettyOutbound.java:358)
	at reactor.netty.channel.ChannelOperations.sendObject(ChannelOperations.java:314)
	at reactor.netty.NettyOutbound.sendObject(NettyOutbound.java:246)
	at org.springframework.web.reactive.socket.adapter.ReactorNettyWebSocketSession.send(ReactorNettyWebSocketSession.java:110)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:126)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:113)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler.heartbeat$lambda$2(FeedWebSocketHandler.kt:113)
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:388)
	at reactor.core.publisher.FluxInterval$IntervalRunnable.run(FluxInterval.java:124)
	at reactor.core.scheduler.PeriodicWorkerTask.call(PeriodicWorkerTask.java:59)
	at reactor.core.scheduler.PeriodicWorkerTask.run(PeriodicWorkerTask.java:73)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)

16.02 12:20:30.432  WARN [         parallel-1] r.s.p.n.websocket.FeedWebSocketHandler  : Failed to send ping to 2599f4ca: Connection has been closed BEFORE send operation
16.02 12:20:30.432  INFO [         parallel-1] r.s.p.n.websocket.BroadcastRegistry     : ‚ùå Unregistered session: 2599f4ca, remaining clients: 3
16.02 12:20:30.432 ERROR [         parallel-1] reactor.core.publisher.Operators        : Operator called default onErrorDropped

reactor.core.Exceptions$ErrorCallbackNotImplemented: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
Caused by: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
	at reactor.netty.channel.AbortedException.beforeSend(AbortedException.java:59)
	at reactor.netty.http.server.HttpServerOperations.then(HttpServerOperations.java:691)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:750)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:739)
	at reactor.netty.NettyOutbound.then(NettyOutbound.java:358)
	at reactor.netty.channel.ChannelOperations.sendObject(ChannelOperations.java:314)
	at reactor.netty.NettyOutbound.sendObject(NettyOutbound.java:246)
	at org.springframework.web.reactive.socket.adapter.ReactorNettyWebSocketSession.send(ReactorNettyWebSocketSession.java:110)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:126)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:113)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler.heartbeat$lambda$2(FeedWebSocketHandler.kt:113)
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:388)
	at reactor.core.publisher.FluxInterval$IntervalRunnable.run(FluxInterval.java:124)
	at reactor.core.scheduler.PeriodicWorkerTask.call(PeriodicWorkerTask.java:59)
	at reactor.core.scheduler.PeriodicWorkerTask.run(PeriodicWorkerTask.java:73)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)

16.02 12:20:35.109  WARN [         parallel-1] r.s.p.n.websocket.FeedWebSocketHandler  : Failed to send ping to 2c1dca98: Connection has been closed BEFORE send operation
16.02 12:20:35.109  INFO [         parallel-1] r.s.p.n.websocket.BroadcastRegistry     : ‚ùå Unregistered session: 2c1dca98, remaining clients: 2
16.02 12:20:35.110 ERROR [         parallel-1] reactor.core.publisher.Operators        : Operator called default onErrorDropped

reactor.core.Exceptions$ErrorCallbackNotImplemented: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
Caused by: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
	at reactor.netty.channel.AbortedException.beforeSend(AbortedException.java:59)
	at reactor.netty.http.server.HttpServerOperations.then(HttpServerOperations.java:691)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:750)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:739)
	at reactor.netty.NettyOutbound.then(NettyOutbound.java:358)
	at reactor.netty.channel.ChannelOperations.sendObject(ChannelOperations.java:314)
	at reactor.netty.NettyOutbound.sendObject(NettyOutbound.java:246)
	at org.springframework.web.reactive.socket.adapter.ReactorNettyWebSocketSession.send(ReactorNettyWebSocketSession.java:110)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:126)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:113)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler.heartbeat$lambda$2(FeedWebSocketHandler.kt:113)
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:388)
	at reactor.core.publisher.FluxInterval$IntervalRunnable.run(FluxInterval.java:124)
	at reactor.core.scheduler.PeriodicWorkerTask.call(PeriodicWorkerTask.java:59)
	at reactor.core.scheduler.PeriodicWorkerTask.run(PeriodicWorkerTask.java:73)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)

16.02 12:20:42.611  WARN [         parallel-1] r.s.p.n.websocket.FeedWebSocketHandler  : Failed to send ping to 40b1e106: Connection has been closed BEFORE send operation
16.02 12:20:42.611  INFO [         parallel-1] r.s.p.n.websocket.BroadcastRegistry     : ‚ùå Unregistered session: 40b1e106, remaining clients: 1
16.02 12:20:42.611 ERROR [         parallel-1] reactor.core.publisher.Operators        : Operator called default onErrorDropped

reactor.core.Exceptions$ErrorCallbackNotImplemented: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
Caused by: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
	at reactor.netty.channel.AbortedException.beforeSend(AbortedException.java:59)
	at reactor.netty.http.server.HttpServerOperations.then(HttpServerOperations.java:691)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:750)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:739)
	at reactor.netty.NettyOutbound.then(NettyOutbound.java:358)
	at reactor.netty.channel.ChannelOperations.sendObject(ChannelOperations.java:314)
	at reactor.netty.NettyOutbound.sendObject(NettyOutbound.java:246)
	at org.springframework.web.reactive.socket.adapter.ReactorNettyWebSocketSession.send(ReactorNettyWebSocketSession.java:110)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:126)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:113)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler.heartbeat$lambda$2(FeedWebSocketHandler.kt:113)
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:388)
	at reactor.core.publisher.FluxInterval$IntervalRunnable.run(FluxInterval.java:124)
	at reactor.core.scheduler.PeriodicWorkerTask.call(PeriodicWorkerTask.java:59)
	at reactor.core.scheduler.PeriodicWorkerTask.run(PeriodicWorkerTask.java:73)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)

16.02 12:20:44.021  INFO [eactor-http-epoll-1] r.s.p.n.websocket.FeedWebSocketHandler  : New WS connection: 71bd5aad
16.02 12:20:44.054  INFO [eactor-http-epoll-1] r.s.p.n.websocket.FeedWebSocketHandler  : Processing SUBSCRIBE for session 71bd5aad
16.02 12:20:44.056  INFO [Dispatcher-worker-1] r.s.p.n.websocket.FeedWebSocketHandler  : Subscribed session 71bd5aad with roles: [109], feed size: 0
16.02 12:20:44.056  INFO [Dispatcher-worker-1] r.s.p.n.websocket.BroadcastRegistry     : ‚úÖ Registered session: 71bd5aad, roleIds: [109], total clients: 2
16.02 12:20:50.704  WARN [         parallel-1] r.s.p.n.websocket.FeedWebSocketHandler  : Failed to send ping to 16c8bb19: Connection has been closed BEFORE send operation
16.02 12:20:50.704  INFO [         parallel-1] r.s.p.n.websocket.BroadcastRegistry     : ‚ùå Unregistered session: 16c8bb19, remaining clients: 2
16.02 12:20:50.704 ERROR [         parallel-1] reactor.core.publisher.Operators        : Operator called default onErrorDropped

reactor.core.Exceptions$ErrorCallbackNotImplemented: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
Caused by: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
	at reactor.netty.channel.AbortedException.beforeSend(AbortedException.java:59)
	at reactor.netty.http.server.HttpServerOperations.then(HttpServerOperations.java:691)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:750)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:739)
	at reactor.netty.NettyOutbound.then(NettyOutbound.java:358)
	at reactor.netty.channel.ChannelOperations.sendObject(ChannelOperations.java:314)
	at reactor.netty.NettyOutbound.sendObject(NettyOutbound.java:246)
	at org.springframework.web.reactive.socket.adapter.ReactorNettyWebSocketSession.send(ReactorNettyWebSocketSession.java:110)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:126)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:113)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler.heartbeat$lambda$2(FeedWebSocketHandler.kt:113)
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:388)
	at reactor.core.publisher.FluxInterval$IntervalRunnable.run(FluxInterval.java:124)
	at reactor.core.scheduler.PeriodicWorkerTask.call(PeriodicWorkerTask.java:59)
	at reactor.core.scheduler.PeriodicWorkerTask.run(PeriodicWorkerTask.java:73)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)

16.02 12:20:50.816  WARN [         parallel-1] r.s.p.n.websocket.FeedWebSocketHandler  : Session 54a65be3 timed out (no activity for 120005ms). Closing.
16.02 12:20:50.816  INFO [         parallel-1] r.s.p.n.websocket.BroadcastRegistry     : ‚ùå Unregistered session: 54a65be3, remaining clients: 2
16.02 12:20:52.060  WARN [         parallel-1] r.s.p.n.websocket.FeedWebSocketHandler  : Failed to send ping to 4e6119c1: Connection has been closed BEFORE send operation
16.02 12:20:52.060  INFO [         parallel-1] r.s.p.n.websocket.BroadcastRegistry     : ‚ùå Unregistered session: 4e6119c1, remaining clients: 2
16.02 12:20:52.061 ERROR [         parallel-1] reactor.core.publisher.Operators        : Operator called default onErrorDropped

reactor.core.Exceptions$ErrorCallbackNotImplemented: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
Caused by: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
	at reactor.netty.channel.AbortedException.beforeSend(AbortedException.java:59)
	at reactor.netty.http.server.HttpServerOperations.then(HttpServerOperations.java:691)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:750)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:739)
	at reactor.netty.NettyOutbound.then(NettyOutbound.java:358)
	at reactor.netty.channel.ChannelOperations.sendObject(ChannelOperations.java:314)
	at reactor.netty.NettyOutbound.sendObject(NettyOutbound.java:246)
	at org.springframework.web.reactive.socket.adapter.ReactorNettyWebSocketSession.send(ReactorNettyWebSocketSession.java:110)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:126)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:113)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler.heartbeat$lambda$2(FeedWebSocketHandler.kt:113)
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:388)
	at reactor.core.publisher.FluxInterval$IntervalRunnable.run(FluxInterval.java:124)
	at reactor.core.scheduler.PeriodicWorkerTask.call(PeriodicWorkerTask.java:59)
	at reactor.core.scheduler.PeriodicWorkerTask.run(PeriodicWorkerTask.java:73)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)

16.02 12:21:00.431  WARN [         parallel-1] r.s.p.n.websocket.FeedWebSocketHandler  : Session 2599f4ca timed out (no activity for 119960ms). Closing.
16.02 12:21:00.432  INFO [         parallel-1] r.s.p.n.websocket.BroadcastRegistry     : ‚ùå Unregistered session: 2599f4ca, remaining clients: 2
16.02 12:21:05.109  WARN [         parallel-1] r.s.p.n.websocket.FeedWebSocketHandler  : Failed to send ping to 2c1dca98: Connection has been closed BEFORE send operation
16.02 12:21:05.109  INFO [         parallel-1] r.s.p.n.websocket.BroadcastRegistry     : ‚ùå Unregistered session: 2c1dca98, remaining clients: 2
16.02 12:21:05.109 ERROR [         parallel-1] reactor.core.publisher.Operators        : Operator called default onErrorDropped

reactor.core.Exceptions$ErrorCallbackNotImplemented: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
Caused by: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
	at reactor.netty.channel.AbortedException.beforeSend(AbortedException.java:59)
	at reactor.netty.http.server.HttpServerOperations.then(HttpServerOperations.java:691)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:750)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:739)
	at reactor.netty.NettyOutbound.then(NettyOutbound.java:358)
	at reactor.netty.channel.ChannelOperations.sendObject(ChannelOperations.java:314)
	at reactor.netty.NettyOutbound.sendObject(NettyOutbound.java:246)
	at org.springframework.web.reactive.socket.adapter.ReactorNettyWebSocketSession.send(ReactorNettyWebSocketSession.java:110)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:126)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:113)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler.heartbeat$lambda$2(FeedWebSocketHandler.kt:113)
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:388)
	at reactor.core.publisher.FluxInterval$IntervalRunnable.run(FluxInterval.java:124)
	at reactor.core.scheduler.PeriodicWorkerTask.call(PeriodicWorkerTask.java:59)
	at reactor.core.scheduler.PeriodicWorkerTask.run(PeriodicWorkerTask.java:73)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)

16.02 12:21:12.611  WARN [         parallel-1] r.s.p.n.websocket.FeedWebSocketHandler  : Failed to send ping to 40b1e106: Connection has been closed BEFORE send operation
16.02 12:21:12.611  INFO [         parallel-1] r.s.p.n.websocket.BroadcastRegistry     : ‚ùå Unregistered session: 40b1e106, remaining clients: 2
16.02 12:21:12.611 ERROR [         parallel-1] reactor.core.publisher.Operators        : Operator called default onErrorDropped

reactor.core.Exceptions$ErrorCallbackNotImplemented: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
Caused by: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
	at reactor.netty.channel.AbortedException.beforeSend(AbortedException.java:59)
	at reactor.netty.http.server.HttpServerOperations.then(HttpServerOperations.java:691)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:750)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:739)
	at reactor.netty.NettyOutbound.then(NettyOutbound.java:358)
	at reactor.netty.channel.ChannelOperations.sendObject(ChannelOperations.java:314)
	at reactor.netty.NettyOutbound.sendObject(NettyOutbound.java:246)
	at org.springframework.web.reactive.socket.adapter.ReactorNettyWebSocketSession.send(ReactorNettyWebSocketSession.java:110)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:126)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:113)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler.heartbeat$lambda$2(FeedWebSocketHandler.kt:113)
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:388)
	at reactor.core.publisher.FluxInterval$IntervalRunnable.run(FluxInterval.java:124)
	at reactor.core.scheduler.PeriodicWorkerTask.call(PeriodicWorkerTask.java:59)
	at reactor.core.scheduler.PeriodicWorkerTask.run(PeriodicWorkerTask.java:73)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)

16.02 12:21:20.704  WARN [         parallel-1] r.s.p.n.websocket.FeedWebSocketHandler  : Failed to send ping to 16c8bb19: Connection has been closed BEFORE send operation
16.02 12:21:20.704  INFO [         parallel-1] r.s.p.n.websocket.BroadcastRegistry     : ‚ùå Unregistered session: 16c8bb19, remaining clients: 2
16.02 12:21:20.704 ERROR [         parallel-1] reactor.core.publisher.Operators        : Operator called default onErrorDropped

reactor.core.Exceptions$ErrorCallbackNotImplemented: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
Caused by: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
	at reactor.netty.channel.AbortedException.beforeSend(AbortedException.java:59)
	at reactor.netty.http.server.HttpServerOperations.then(HttpServerOperations.java:691)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:750)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:739)
	at reactor.netty.NettyOutbound.then(NettyOutbound.java:358)
	at reactor.netty.channel.ChannelOperations.sendObject(ChannelOperations.java:314)
	at reactor.netty.NettyOutbound.sendObject(NettyOutbound.java:246)
	at org.springframework.web.reactive.socket.adapter.ReactorNettyWebSocketSession.send(ReactorNettyWebSocketSession.java:110)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:126)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:113)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler.heartbeat$lambda$2(FeedWebSocketHandler.kt:113)
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:388)
	at reactor.core.publisher.FluxInterval$IntervalRunnable.run(FluxInterval.java:124)
	at reactor.core.scheduler.PeriodicWorkerTask.call(PeriodicWorkerTask.java:59)
	at reactor.core.scheduler.PeriodicWorkerTask.run(PeriodicWorkerTask.java:73)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)

16.02 12:21:20.816  WARN [         parallel-1] r.s.p.n.websocket.FeedWebSocketHandler  : Session 54a65be3 timed out (no activity for 150005ms). Closing.
16.02 12:21:20.816  INFO [         parallel-1] r.s.p.n.websocket.BroadcastRegistry     : ‚ùå Unregistered session: 54a65be3, remaining clients: 2
16.02 12:21:22.060  WARN [         parallel-1] r.s.p.n.websocket.FeedWebSocketHandler  : Failed to send ping to 4e6119c1: Connection has been closed BEFORE send operation
16.02 12:21:22.060  INFO [         parallel-1] r.s.p.n.websocket.BroadcastRegistry     : ‚ùå Unregistered session: 4e6119c1, remaining clients: 2
16.02 12:21:22.060 ERROR [         parallel-1] reactor.core.publisher.Operators        : Operator called default onErrorDropped

reactor.core.Exceptions$ErrorCallbackNotImplemented: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
Caused by: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
	at reactor.netty.channel.AbortedException.beforeSend(AbortedException.java:59)
	at reactor.netty.http.server.HttpServerOperations.then(HttpServerOperations.java:691)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:750)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:739)
	at reactor.netty.NettyOutbound.then(NettyOutbound.java:358)
	at reactor.netty.channel.ChannelOperations.sendObject(ChannelOperations.java:314)
	at reactor.netty.NettyOutbound.sendObject(NettyOutbound.java:246)
	at org.springframework.web.reactive.socket.adapter.ReactorNettyWebSocketSession.send(ReactorNettyWebSocketSession.java:110)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:126)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:113)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler.heartbeat$lambda$2(FeedWebSocketHandler.kt:113)
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:388)
	at reactor.core.publisher.FluxInterval$IntervalRunnable.run(FluxInterval.java:124)
	at reactor.core.scheduler.PeriodicWorkerTask.call(PeriodicWorkerTask.java:59)
	at reactor.core.scheduler.PeriodicWorkerTask.run(PeriodicWorkerTask.java:73)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)

16.02 12:21:30.431  WARN [         parallel-1] r.s.p.n.websocket.FeedWebSocketHandler  : Session 2599f4ca timed out (no activity for 149960ms). Closing.
16.02 12:21:30.431  INFO [         parallel-1] r.s.p.n.websocket.BroadcastRegistry     : ‚ùå Unregistered session: 2599f4ca, remaining clients: 2
16.02 12:21:35.109  WARN [         parallel-1] r.s.p.n.websocket.FeedWebSocketHandler  : Failed to send ping to 2c1dca98: Connection has been closed BEFORE send operation
16.02 12:21:35.109  INFO [         parallel-1] r.s.p.n.websocket.BroadcastRegistry     : ‚ùå Unregistered session: 2c1dca98, remaining clients: 2
16.02 12:21:35.109 ERROR [         parallel-1] reactor.core.publisher.Operators        : Operator called default onErrorDropped

reactor.core.Exceptions$ErrorCallbackNotImplemented: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
Caused by: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
	at reactor.netty.channel.AbortedException.beforeSend(AbortedException.java:59)
	at reactor.netty.http.server.HttpServerOperations.then(HttpServerOperations.java:691)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:750)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:739)
	at reactor.netty.NettyOutbound.then(NettyOutbound.java:358)
	at reactor.netty.channel.ChannelOperations.sendObject(ChannelOperations.java:314)
	at reactor.netty.NettyOutbound.sendObject(NettyOutbound.java:246)
	at org.springframework.web.reactive.socket.adapter.ReactorNettyWebSocketSession.send(ReactorNettyWebSocketSession.java:110)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:126)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:113)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler.heartbeat$lambda$2(FeedWebSocketHandler.kt:113)
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:388)
	at reactor.core.publisher.FluxInterval$IntervalRunnable.run(FluxInterval.java:124)
	at reactor.core.scheduler.PeriodicWorkerTask.call(PeriodicWorkerTask.java:59)
	at reactor.core.scheduler.PeriodicWorkerTask.run(PeriodicWorkerTask.java:73)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)

16.02 12:21:42.611  WARN [         parallel-1] r.s.p.n.websocket.FeedWebSocketHandler  : Failed to send ping to 40b1e106: Connection has been closed BEFORE send operation
16.02 12:21:42.611  INFO [         parallel-1] r.s.p.n.websocket.BroadcastRegistry     : ‚ùå Unregistered session: 40b1e106, remaining clients: 2
16.02 12:21:42.611 ERROR [         parallel-1] reactor.core.publisher.Operators        : Operator called default onErrorDropped

reactor.core.Exceptions$ErrorCallbackNotImplemented: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
Caused by: reactor.netty.channel.AbortedException: Connection has been closed BEFORE send operation
	at reactor.netty.channel.AbortedException.beforeSend(AbortedException.java:59)
	at reactor.netty.http.server.HttpServerOperations.then(HttpServerOperations.java:691)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:750)
	at reactor.netty.ReactorNetty$OutboundThen.<init>(ReactorNetty.java:739)
	at reactor.netty.NettyOutbound.then(NettyOutbound.java:358)
	at reactor.netty.channel.ChannelOperations.sendObject(ChannelOperations.java:314)
	at reactor.netty.NettyOutbound.sendObject(NettyOutbound.java:246)
	at org.springframework.web.reactive.socket.adapter.ReactorNettyWebSocketSession.send(ReactorNettyWebSocketSession.java:110)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:126)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler$heartbeat$1.invoke(FeedWebSocketHandler.kt:113)
	at ru.sber.poirot.notifications.websocket.FeedWebSocketHandler.heartbeat$lambda$2(FeedWebSocketHandler.kt:113)
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:388)
	at reactor.core.publisher.FluxInterval$IntervalRunnable.run(FluxInterval.java:124)
	at reactor.core.scheduler.PeriodicWorkerTask.call(PeriodicWorkerTask.java:59)
	at reactor.core.scheduler.PeriodicWorkerTask.run(PeriodicWorkerTask.java:73)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)

16.02 12:21:50.704  WARN [         parallel-1] r.s.p.n.websocket.FeedWebSocketHandler  : Session 16c8bb19 timed out (no activity for 119948ms). Closing.
16.02 12:21:50.704  INFO [         parallel-1] r.s.p.n.websocket.BroadcastRegistry     : ‚ùå Unregistered session: 16c8bb19, remaining clients: 2
16.02 12:21:50.816  WARN [         parallel-1] r.s.p.n.websocket.FeedWebSocketHandler  : Session 54a65be3 timed out (no activity for 180005ms). Closing.
16.02 12:21:50.816  INFO [         parallel-1] r.s.p.n.websocket.BroadcastRegistry     : ‚ùå Unregistered session: 54a65be3, remaining clients: 2
16.02 12:21:52.060  WARN [         parallel-1] r.s.p.n.websocket.FeedWebSocketHandler  : Session 4e6119c1 timed out (no activity for 119960ms). Closing.
16.02 12:21:52.060  INFO [         parallel-1] r.s.p.n.websocket.BroadcastRegistry     : ‚ùå Unregistered session: 4e6119c1, remaining clients: 2
16.02 12:22:00.432  WARN [         parallel-1] r.s.p.n.websocket.FeedWebSocketHandler  : Session 2599f4ca timed out (no activity for 179961ms). Closing.
16.02 12:22:00.432  INFO [         parallel-1] r.s.p.n.websocket.BroadcastRegistry     : ‚ùå Unregistered session: 2599f4ca, remaining clients: 2
16.02 12:22:05.108  WARN [         parallel-1] r.s.p.n.websocket.FeedWebSocketHandler  : Session 2c1dca98 timed out (no activity for 119965ms). Closing.
16.02 12:22:05.109  INFO [         parallel-1] r.s.p.n.websocket.BroadcastRegistry     : ‚ùå Unregistered session: 2c1dca98, remaining clients: 2
